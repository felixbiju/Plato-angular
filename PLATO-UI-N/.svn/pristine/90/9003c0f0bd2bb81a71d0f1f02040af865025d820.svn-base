<div *ngIf="!isLoggedIn" class="emptyHeader" style=" height: 50px;"></div>
<nav *ngIf="isLoggedIn" class="navbar navbar-default fixed-top" role="navigation" id="myNavbar">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle x collapsed"
    data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
    [matMenuTriggerFor]="hiddenMenu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" (click)="routingFunction('dashboard')">
      <img class="img-responsive" id="plato-logo" [src]="platoLogo">
    </a>
  </div>

  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <!-- <img class="pull-right" src="../../assets/Customer_Images/customer_logo.png"
    style="padding: 2px;height: 35px; margin: 5px 10px;"/> -->

    <div id="userInfo">
      <p style="margin: 10px 0px 0px 0px;color: black;">Hi <b>{{userName |titlecase}}</b></p>
      <p style="font-size:11px;color: black;">Logged in as: {{selectedRole.roleName |titlecase}}</p>
    </div>
    <ul class="nav navbar-nav plato-nav">
      <li>
        <button id="iconBtn" class="menuIcon" (click)="routingFunction('dashboard')" >
          <img class="img-responsive" src="../../assets/genral_icons/home.png">
        </button>
      </li>
      <li>
        <button id="iconBtn" class="menuIcon" (click)="routingFunction('project')" >
          <img class="img-responsive" src="../../assets/genral_icons/briefcase.png">
        </button>
      </li>
      <!-- TC Factory -->
      <!-- <li>
        <button id="iconBtn" class="menuIcon" (click)="routingFunction('TC_Factory')">
          <img class="img-responsive" src="../../assets/genral_icons/TC_Factory.png">
        </button>
      </li> -->
      
      <li>
        <button id="iconBtn" class="menuIcon"  >
          <a [href]="testrightUrl" target="_blank">
            <img class="img-responsive" src="../../assets/genral_icons/testright.png" alt="testright">
          </a>
        </button>
      </li>
      <li>
        <button id="iconBtn" class="menuIcon"  >
          <a [href]="glassboxUrl" target="_blank" >
            <img class="img-responsive" src="../../assets/genral_icons/glassbox.png" alt="glassbox">
          </a>
        </button>
      </li>
     
      <li>
        <button id="iconBtn" class="menuIcon" (click)="routingFunction('config')" >
          <img class="img-responsive" src="../../assets/genral_icons/tools.png">
        </button>
      </li>
      <li>
        <button id="menuBtn" class="menuIcon" [matMenuTriggerFor]="userMenu">
          <img class="img-circle img-responsive" src="../../assets/genral_icons/user.png">
        </button>
      </li>
    </ul>
  </div>
</nav>

<!-- user menu -->
<mat-menu #userMenu="matMenu" id="myMenu">
  <ul class="list-unstyled">
  <button mat-menu-item [matMenuTriggerFor]="roles" id="myMenuBtn">
    <img title="Create new Account" src="../../assets/genral_icons/user_sm.png" style="cursor: pointer; margin: 5px; vertical-align: bottom;" />
    <span> Roles </span>
  </button></ul>
  <ul class="list-unstyled">
  <a  href="../../assets/Pdf/Plato_user_Manual_New.pdf" download="Plato_user_Manual_New.pdf" mat-menu-item  id="myMenuBtn" target="_blank">
    <img title="Create new Account" src="../../assets/genral_icons/info.png" style="cursor: pointer; margin: 5px; vertical-align: bottom;" />
    Help
  </a>
  </ul>
  <ul class="list-unstyled">
  <button mat-menu-item (click)="routingFunction('logout')" id="myMenuBtn">
    <img title="Create new Account" src="../../assets/genral_icons/shut_down.png" style="cursor: pointer; margin: 5px; vertical-align: bottom;" />
    <span> Sign Out </span>
  </button></ul>
</mat-menu>
<mat-menu #roles="matMenu">
  <ul class="list-unstyled" *ngFor="let role of userRoles; let i = index">
    <!-- <button mat-menu-item
    *ngIf="'Admin' === role.roleName"
    [matMenuTriggerFor]="admin" id="myMenuBtn"
    (click)="selectRole(role, i)"
    class="myRoleMenuBtn"
    [class.active]="i === selectedRole"> {{role.roleName}} </button> -->
    <button mat-menu-item
    id="myMenuBtn"
    class="myRoleMenuBtn"
    [class.active]="i === selectedRoleIndex"
    (click)="selectRole(role, i)"> {{role.roleName}} </button>
  </ul>
</mat-menu>
<!-- <mat-menu #admin="matMenu">
  <button mat-menu-item id="myMenuBtn" routerLink="/config"> Configurations </button>
</mat-menu> -->

<mat-menu #hiddenMenu="matMenu">
  <ul class="nav navbar-nav plato-nav">
    <li>
      <button id="iconBtn" class="menuIcon" (click)="routingFunction('dashboard')" >
        <img class="img-responsive" src="../../assets/genral_icons/home.png">
      </button>
    </li>
    <li>
      <button id="iconBtn" class="menuIcon" (click)="routingFunction('project')" >
        <img class="img-responsive" src="../../assets/genral_icons/briefcase.png">
      </button>
    </li>
    <li>
      <button id="iconBtn" class="menuIcon" (click)="routingFunction('TC_Factory')">
        <img class="img-responsive" src="../../assets/genral_icons/TC_Factory.png">
      </button>
    </li>
    <li>
      <button id="iconBtn" class="menuIcon" (click)="routingFunction('config')" >
        <img class="img-responsive" src="../../assets/genral_icons/tools.png">
      </button>
    </li>

    <!-- <li>
      <button id="menuBtn" class="menuIcon" [matMenuTriggerFor]="userMenu">
        <img class="img-circle img-responsive" src="../../assets/genral_icons/user.png"> </button>
    </li> -->
    <!-- <li>
      <img class="img-responsive rounded-circle" id="customer-logo" src="{{customer_logo}}">
    </li> -->
  </ul>
</mat-menu>

